import e from"@vue/babel-helper-vue-jsx-merge-props";import"core-js/modules/es.map.js";import"core-js/modules/es.object.to-string.js";import"core-js/modules/es.string.iterator.js";import"core-js/modules/web.dom-collections.iterator.js";import"core-js/modules/es.regexp.exec.js";import"core-js/modules/es.regexp.test.js";import"core-js/modules/web.url.js";import"core-js/modules/web.url-search-params.js";var r=new Map,t={props:{src:{type:String}},computed:{realSrc:function(){return r.get(this.src)||this.src},attrs:function(){var e=this.$attrs;return delete e.src,e}},watch:{src:{handler:function(e){if(!r.get(e)&&/^(http|https|\/\/):/i.test(e)){var t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="blob",t.onload=function(){var s=new Blob([t.response]),o=window.URL.createObjectURL(s);r.set(e,o)},t.send()}},immediate:!0}},render:function(){var r=arguments[0];return r("img",e([{attrs:{src:this.realSrc}},this.attrs]))},install:function(e){e.component("vc-image",t)}};t.cacheBlobMap=r;export{t as default};
